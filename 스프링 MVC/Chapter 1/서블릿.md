# HTML Form 데이터 전송

![](https://i.imgur.com/K7DRfte.png)
 - 웹 브라우저가 HTTP 메세지를 만들어 전송
# 서버에서 처리해야하는 임무

- 서버 TCP/IP 연결 대기, 소켓 연결
- HTTP 요청 메세지를 파싱해서 읽기
- POST 방식, /save URL 인지 확인
- Content-Type 확인
- HTTP 메세지 바디 내용 파싱
  데이터를 사용할 수 있게 파싱
- 저장 프로세스 실행
- **비즈니스 로직 실행**
  **DB에 저장 요청**
- HTTP 응답 메세지 생성 시작
  HTTP 시작 라인 생성
  Header 생성
  메시지 바디에 HTML 생성에서 입력
- TCP/IP에 응답 전달, 소켓 종료

-> **서블릿이 비즈니스 로직 제외한 모든 임무를 해준다!**

# 서블릿의 특징

- 특정 패턴의 URL이 호출되면 서블릿 코드가 실행
- HttpServletRequest: HTTP 요청 정보를 편하게 사용
- HttpServletResponse: HTTP 응답 정보 편하게 제공
- 개발자는 HTTP 스펙을 편리하게 사용

# HTTP 요청-응답 흐름

- HTTP 요청 시
- WAS가 Request, Response 객체를 새로 만들어 서블릿 객체 호출
- 개발자가 Request 객체에서 HTTP 요청 정보를 꺼내서 사용
- Response 객체에도 HTTP 응답 정보를 입력
- WAS가 Response 객체 속 내용으로 HTTP 응답 정보 생성, 웹 브라우저로 전달

# 서블릿 컨테이너

- 톰캣처럼 서블릿을 지원하는 WAS를 서블릿 컨테이너라 함
- 서블릿 컨테이너는 서블릿 객체를 생성, 호출, 관리 
- 서블릿 객체 -> 싱글톤으로 관리
  - 고객의 요청마다 서블릿을 생성할 필요가 없음
  - 최초 로딩 시 서블릿 객체 미리 만들어두고 재활용
  - 모든 고객 요청은 동일한 서블릿 객체 인스턴스에 접근
  - **공유 변수 사용에 주의!**
  - 서블릿 컨테이너 종료 시 함께 종료
- JSP도 서블릿으로 변환되어 사용
- **동시 요청을 위한 멀티 쓰레드 처리 지원 (매우 중요!)**
